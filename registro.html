<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Estilos -->
    <link rel="stylesheet" href="MAINSTYLE.css">
    <title>Crear cuenta | Mamma Mia</title>
</head>
<body class="bg-cream">

<!-- NAVBAR m√≠nima coherente -->
<nav class="navbar navbar-expand-lg navbar-dark bg-green-700 sticky-top shadow-sm" id="principal">
    <div class="container-fluid">
        <a class="navbar-brand fw-bold text-cream" href="index.html">‚ÄúSIN LLAMAR, SIN ESPERAR‚Äù</a>
    </div>
</nav>

<main>
    <!-- Logo -->
    <header class="py-4">
        <div class="container d-flex flex-column align-items-center">
            <img src="img/PlaceHolderLogo.png" alt="Logo Mamma Mia" width="100" height="100" class="rounded-circle border mb-2" loading="lazy">
            <h1 class="h4 text-green-800 fw-bold mb-0">Crea tu cuenta</h1>
        </div>
    </header>

    <!-- Formulario -->
    <section id="perc70" class="pb-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6 col-xl-4">
                    <div class="card border-0 shadow-sm mb-5">
                        <div class="card-body">
                            <!-- Form sem√°ntico -->
                            <form id="formRegistro" novalidate>
                                <!-- nombre -->
                                <div class="mb-3">
                                    <label for="itnombre" class="form-label">Nombre</label>
                                    <input pattern=".{3,20}" type="text" name="itnombre" id="itnombre" class="form-control estilo-form" placeholder="Nombre" required>
                                    <div id="error1" class="error-form mt-2">Ingrese un nombre v√°lido (m√≠n. 3 caracteres)</div>
                                </div>

                                <!-- apellido -->
                                <div class="mb-3">
                                    <label for="itapellido" class="form-label">Apellido paterno</label>
                                    <input pattern=".{3,20}" type="text" id="itapellido" class="form-control estilo-form" placeholder="Apellido paterno" required>
                                    <div id="error2" class="error-form mt-2">Ingrese un apellido v√°lido (m√≠n. 3 caracteres)</div>
                                </div>

                                <!-- correo -->
                                <div class="mb-3">
                                    <label for="itcorreo" class="form-label">Correo</label>
                                    <input pattern=".{5,60}" type="email" name="itcorreo" id="itcorreo" class="form-control estilo-form" placeholder="correo@ejemplo.cl" required>
                                    <div id="error3" class="error-form mt-2">Ingrese un correo v√°lido</div>
                                </div>

                                <!-- clave -->
                                <div class="mb-3">
                                    <label for="itclave" class="form-label">Clave</label>
                                    <input pattern=".{7,20}" type="password" id="itclave" class="form-control estilo-form" placeholder="Clave (m√≠n. 7 caracteres)" required>
                                    <div id="error4" class="error-form mt-2">Ingrese una clave (m√≠n. 7 caracteres)</div>
                                </div>

                                <!-- tel√©fono -->
                                <div class="mb-3">
                                    <label for="ittelefono" class="form-label">Tel√©fono</label>
                                    <input inputmode="numeric" pattern="\\d{9}" type="text" id="ittelefono" class="form-control estilo-form" placeholder="911223344" required>
                                    <div id="error5" class="error-form mt-2">Ingrese un tel√©fono de 9 d√≠gitos</div>
                                </div>

                                <!-- enviar -->
                                <div class="d-grid">
                                    <button type="submit" id="btnregistro" class="btn boton-opc1">Crear usuario</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="text-center">
                        <p class="mb-1"><a class="texto-verde text-decoration-none" href="ingresar.html">Iniciar sesi√≥n</a></p>
                        <p class="mb-0"><a class="texto-verde text-decoration-none" href="main.html">Volver al men√∫</a></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

</main>

<!-- FOOTER -->
<footer class="bg-green-800 text-cream py-4">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-4">
                <h5 class="fw-bold">‚ÄúSin llamar, sin esperar‚Äù</h5>
                <p class="mb-0">PIZZAS MAMMA MIA ¬©2025 ‚Äî Todos los derechos reservados.</p>
            </div>
            <div class="col-6 col-lg-2">
                <h6 class="fw-bold">Sobre nosotros</h6>
                <ul class="list-unstyled small">
                    <li><a href="#" class="link-cream">Nuestra meta</a></li>
                    <li><a href="#" class="link-cream">Pol√≠ticas</a></li>
                    <li><a href="#" class="link-cream">T√©rminos y condiciones</a></li>
                </ul>
            </div>
            <div class="col-6 col-lg-2">
                <h6 class="fw-bold">Equipo</h6>
                <ul class="list-unstyled small">
                    <li><a href="#" class="link-cream">√önete</a></li>
                    <li><a href="#" class="link-cream">Contacto</a></li>
                </ul>
            </div>
            <div class="col-6 col-lg-2">
                <h6 class="fw-bold">Redes</h6>
                <ul class="list-unstyled small">
                    <li><a href="#" class="link-cream">Instagram</a></li>
                    <li><a href="#" class="link-cream">Facebook</a></li>
                    <li><a href="#" class="link-cream">X (Twitter)</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>

<!-- JS Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- jQuery (si decides mantenerlo) -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<!-- EmailJS (opcional, lo mantengo si ya lo usas) -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>emailjs.init('XGSRyFVpmsTq_nYzy');</script>

<!-- Validaci√≥n registro (comparaciones estrictas + trim + RegExp limpia) -->
<script>
    (function() {
        const reEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // sin escapes redundantes
        const $ = (sel) => document.querySelector(sel);

        const form = $('#formRegistro');
        const itNombre = $('#itnombre');
        const itApellido = $('#itapellido');
        const itCorreo = $('#itcorreo');
        const itClave = $('#itclave');
        const itTelefono = $('#ittelefono');

        const show = (id) => document.getElementById(id).style.display = 'block';
        const hide = (id) => document.getElementById(id).style.display = 'none';

        form.addEventListener('submit', (e) => {
            e.preventDefault();

            // normalizar
            const nombre = String(itNombre.value).trim();
            const apellido = String(itApellido.value).trim();
            const correo = String(itCorreo.value).trim();
            const clave = String(itClave.value).trim();
            const telefono = String(itTelefono.value).trim();

            let ok = true;

            if (nombre.length < 3) { show('error1'); ok = false; } else hide('error1');
            if (apellido.length < 3) { show('error2'); ok = false; } else hide('error2');
            if (!reEmail.test(correo)) { show('error3'); ok = false; } else hide('error3');
            if (clave.length < 7) { show('error4'); ok = false; } else hide('error4');
            if (!/^\d{9}$/.test(telefono)) { show('error5'); ok = false; } else hide('error5');

            if (!ok) return;

            // aqu√≠ podr√≠as guardar en localStorage o enviar a tu backend/mock
            // localStorage.setItem('usuario', JSON.stringify({nombre, apellido, correo, telefono}));

            alert('Usuario creado correctamente üéâ');
            window.location.href = 'ingresar.html';
        });
    })();
</script>

<!-- main.js (si lo necesitas para otras cosas) -->
<script src="js/main.js"></script>
</body>
</html>
